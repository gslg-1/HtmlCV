<!DOCTYPE html>
<html>
  <head>
    <title> CV </title>
    <link type = "text/css" href = "styles/style1.css" media = " all" />
    <style>
      
    </style>
  </head>
  <body >
    <svg id="diamond" width="600" height="600" display="block" style="background-color: green;" >
    </svg>

    <ol id="List" style="font-family: Arial, Helvetica, sans-serif;">
    </ul>

    <script >

      function toAngle(Number, Index)
      {
        let angle = (2 * Math.PI * Index) / Number;
        return angle;
      }
      function toXY( center, radius, angle)
      {
        let XYPos = {
          x:radius,
          y:radius
        };
        XYPos.x = center.x + (radius * Math.sin( angle ));
        XYPos.y = center.y + (radius * Math.cos( angle ));;
        return XYPos;
      }
      
      function Radar_grafic (svg, ValueA, ValueC, RingC)
      {
        /* Values: */
        let width = svg.clientWidth;
        let height = svg.clientHeight;
        let center = {
          x:(width/2),
          y:(height/2)
        };
        let MaxRadius = Math.min(center.x, center.y);
        let Radius = MaxRadius - 32;/*px*/
        let RadiusMarker = MaxRadius - 16; /*px*/ 
        let RingRadius = Radius;


        /* Single Elements */
        let polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');        
        polygon.setAttribute("style","fill:blue;stroke:purple;stroke-width:2;fill-opacity:0.5;");
        
        /*Create Rings*/
        for (i = 0; i < RingC; i++)
        {
          let ring = document.createElementNS('http://www.w3.org/2000/svg', 'circle');            
          ring.setAttribute("cx",center.x);
          ring.setAttribute("cy",center.y);
          ring.setAttribute("r", (((RingRadius * (i+1) )/RingC )));
          ring.setAttribute("stroke","black");
          ring.setAttribute("stroke-width","2");
          ring.setAttribute("fill-opacity","0");
          svg.appendChild(ring);
        }
        /*Creaet Axis Related Elements*/
        for (let i = 0; i < ValueC; i++)
        {
          /*Values*/
          let phi = toAngle(ValueC,i);
          let r = (Radius * ValueA[i].value) /100;
          let posVal = toXY(center, r, phi);
          let posAxis = toXY(center, r, phi);
          let posMarker = toXY(center, r+20, phi);          
          if (RingC > 0)
          {
            posMarker = toXY(center, RadiusMarker, phi);
            posAxis = toXY(center, Radius, phi);
          }
          /*Elements:*/
          let point = svg.createSVGPoint();          
          let marker = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
          let line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
          let mLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    
          /*Daimond Edges: */
          point.x = posVal.x;
          point.y = posVal.y;

          /*Axis: */
          line.setAttribute("x1",center.x);
          line.setAttribute("y1",center.y);
          line.setAttribute("x2",posAxis.x);
          line.setAttribute("y2",posAxis.y);
          line.setAttribute("stroke","black");
          line.setAttribute("stroke-width","2");

          /*Marker:*/
          marker.setAttribute("cx",posMarker.x);
          marker.setAttribute("cy",posMarker.y);
          marker.setAttribute("r",12);
          marker.setAttribute("stroke","black");
          marker.setAttribute("stroke-width","2");
          marker.setAttribute("fill-opacity","0");

          /*Lable: */
          mLabel.setAttribute("x",posMarker.x);
          mLabel.setAttribute("y",posMarker.y);
          mLabel.textContent = (i+1);
          mLabel.setAttribute("fill","black");
          mLabel.setAttribute("font-weight", "bold");
          mLabel.setAttribute("font-family", "Verdana");
          mLabel.setAttribute("dominant-baseline","middle");
          mLabel.setAttribute("text-anchor","middle");

          /*Append*/
          polygon.points.appendItem(point);
          svg.appendChild(line);
          svg.appendChild(mLabel);
          svg.appendChild(marker);  
        }
        svg.appendChild(polygon);
      }
      function Radar_legend( list, Elements, ElementCount )
      {
        /*Frame:*/
        let width = list.offsetWidth;
        let height = list.offsetHeight;
        /*Elements*/
        for (i = 0; i < ElementCount; i++)
        {
          let litem = document.createElement('li');
          //console.log(Elements[i].label);
          litem.innerHTML = Elements[i].label;
          list.appendChild(litem);
        }
      }
      function Radar(cSvg,cList, list, listC, ringC)
      {
        Radar_grafic(cSvg,list,listC, ringC);
        Radar_legend(cList, list,listC);
      }

      let skills = [{value:80,label:"Bouldern"},{value:80,label:"Musik"}, {value:30,label:"Kochen"}, {value:10,label:"Tanzen"}, {value:99,label:"Pupsen"}];
      Radar(document.getElementById("diamond"),document.getElementById("List"),skills, skills.length, 3);
    </script>
  </body>  

</html>